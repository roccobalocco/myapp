<!DOCTYPE html>
<html lang="it">
    <head>
        <title>Ciclabili Valchiavenna</title>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <meta name="author" content="Piemme">
        <meta name="keyword" content="Ciclabili Bici Ciclabile Valchiavenna Chiavenna">

        <link id="mode" rel="stylesheet" type="text/css" />
        
        <link rel="icon" href="images/favicon.ico" type="images/x-icon" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        
        <script src="../javascripts/util.js"></script>
        <script>            
            var saturation = 0
            function sat(v){    
                document.getElementById("mappa").setAttribute("style", `filter:saturate(${v});`)           
                saturation = v
            }
        </script>
    </head>
    <body>
        <!-- hamburger -->
        <input type="checkbox" id="navi-toggle" class="checkbox" />
        <label for="navi-toggle" id="button">
            <span id="icon">&nbsp;</span>
        </label>
        <div id="background">&nbsp;</div>
        <nav id="nav">
            <ul id="list">
                <li style="display: inline"><img class="logo" src="images/logo.png"></li>
                <li> <a class="link" href="./homepage"> Home </a> </li>
                <li> <a class="link" href="./piste"> Piste </a> </li>
                <li> <a class="link" href="./territorio"> Territorio </a> </li>
                <li> <a class="link" href="./info"> Info </a> </li>
            </ul>
        </nav>
        
        <header>
            <navbar>
                <span style="display: inline"><img class="logo" src="images/logo.png"></span>
                <span class="menuItem"><a href="./homepage">Home</a></span>
                <span class="menuItem"><a href="./piste">Piste</a></span>
                <span class="menuItem"><a href="./territorio">Territorio</a></span>
                <span class="menuItem"><a href="./info">Info</a></span>
            </navbar>
        </header>
        <div id="container">
            <div id="contenuto">
                <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                <!-- Image Map Generated by http://www.image-map.net/ --> 
                <div class="image-container">    
                    <img id="mappa" src="images/chiavenna_colico.jpg" usemap="#image-map" class="image" 
                    title="Ciclabile della Valchiavenna, photo by https://www.valtellina.it/it/bike/cicloturismo/percorsi/ciclabile-valchiavenna"
                    alt="Ciclabile della Valchiavenna, photo by https://www.valtellina.it/it/bike/cicloturismo/percorsi/ciclabile-valchiavenna">
                    <map name="image-map" id="image-map">
                        <area alt="Prosto" title="Prosto" href="./zone?z=Prosto" shape="rect">
                        <area alt="Chiavenna" title="Chiavenna" href="./zone?z=Chiavenna" shape="rect">
                        <area alt="Villa di Chiavenna" title="Villa di Chiavenna" href="./zone?z=Villa" shape="rect">
                        <area alt="Mese" title="Mese" href="./zone?z=Mese" shape="rect">
                        <area alt="Gordona" title="Gordona" href="./zone?z=Gordona" shape="rect">
                        <area alt="Samolaco" title="Samolaco" href="./zone?z=Samolaco" shape="rect">
                        <area alt="Novate Mezzola" title="Novate Mezzola" href="./zone?z=Novate" shape="rect">
                        <area alt="Verceia" title="Verceia" href="./zone?z=Verceia" shape="rect">
                        <area alt="Dubino" title="Dubino" href="./zone?z=Dubino" shape="rect">
                        <area alt="Colico" title="Colico" href="./zone?z=Colico" shape="rect">
                    </map>
                </div>
                <h2>Lista delle zone attraversate dalla pista:</h2>
                <ul>
                    <li><a href="./zone?z=Villa">Villa di Chiavenna</a></li>
                    <li><a href="./zone?z=Prosto">Prosto</a></li>
                    <li><a href="./zone?z=Chiavenna">Chiavenna</a></li>
                    <li><a href="./zone?z=Mese">Mese</a></li>
                    <li><a href="./zone?z=Gordona">Gordona</a></li>
                    <li><a href="./zone?z=Samolaco">Samolaco</a></li>
                    <li><a href="./zone?z=Novate">Novate Mezzola</a></li>
                    <li><a href="./zone?z=Verceia">Verceia</a></li>
                    <li><a href="./zone?z=Dubino">Dubino</a></li>
                    <li><a href="./zone?z=Colico">Colico</a></li>
                </ul>
                <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>    
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
            </div>
            <div id="asideContainer">
                <aside class="asideElem">
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                </aside>
                <aside class="asideElem">
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                </aside>
            </div>
        </div>
        <footer>
            <div id="footerText">
                <ul>
                    <li><a class="fa fa-instagram" href="https://www.instagram.com/pietromasolini_1ne/?hl=it">Instagram</a> &nbsp;</li>
                    <li><a class="fa fa-linkedin" href="https://www.linkedin.com/in/pietro-m-99b7b318a/">Linkedin</a> &nbsp;</li>
                    <li><a class="fa fa-at" href="mailto:pietro.masolini@studenti.unimi.it">Email</a> &nbsp;</li>
                    <li><a class="fa fa-github" href="https://github.com/roccobalocco">Github</a> &nbsp;</li>
                    <li><a class="fa fa-info" href="https://github.com/roccobalocco/myapp">Descrizione progetto</a> &nbsp;</li>
                    <li><a class="fa fa-institution" href="https://www.unimi.it/it/corsi/insegnamenti-dei-corsi-di-laurea/2020/tecnologie-e-linguaggi-il-web">Realizzato per CdL-UniMi</a> &nbsp;</li>
                    <li>
                      <p><a id="switcher" style="cursor: pointer; text-decoration: none;" title="Cambia tema"></a></p>
                    </li>
                </ul>
            </div>
        </footer>
        <script>
            if(localStorage.getItem("mode") == "dark"){
                document.getElementById("switcher").innerHTML = "&#128262;";
                document.getElementById("mode").href = "stylesheets/style_dark.css"
                console.log("dark-mode")
            }else{
                document.getElementById("switcher").innerHTML = "&#127769;";
                document.getElementById("mode").href = "stylesheets/style_light.css";
                console.log("light-mode")
            }

            //eventListener Lists:
            document.getElementById("switcher").addEventListener("click", function(){
                if(localStorage.getItem("mode") == "dark"){
                    localStorage.setItem("mode", "light");
                    document.getElementById("switcher").innerHTML = "&#127769;";
                    document.getElementById("mode").href = "stylesheets/style_light.css"
                    console.log("switched to light")
                }else{
                    localStorage.setItem("mode", "dark");
                    document.getElementById("switcher").innerHTML = "&#128262;";
                    document.getElementById("mode").href = "stylesheets/style_dark.css";
                    console.log("switched to dark")
                }
            })


            document.getElementById("mappa").addEventListener('mousemove', function(){
                if(saturation == 0 || saturation == 5){
                    for(let i = 1; i <= 10; i++){
                        setTimeout(sat, 250*i, i*5);
                    }
                }
            })

            document.getElementById("mappa").addEventListener('touchmove', function(){
                if(saturation == 0 || saturation == 5){
                    for(let i = 1; i <= 10; i++){
                        setTimeout(sat, 250*i, i*5);
                    }
                }
            })

            setInterval(function(){
                if(saturation == 50){
                    for(let i = 10; i > 0; i--){
                        setTimeout(sat, 250*-(i-16), i*5);
                    }
                }
            }, 20000);

            //dynamically resize the coordinate of the image-map :)
            window.onload = function(){
                console.log("caricando mappa")
                let img = document.getElementById("mappa");
                get_offset(img.width, img.height, document.getElementById("image-map").children) 
            }

            window.onresize = function(){
                console.log("caricando mappa")
                let img = document.getElementById("mappa");
                get_offset(img.width, img.height, document.getElementById("image-map").children) 
            }
        </script>
    </body>
</html>