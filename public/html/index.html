<!DOCTYPE html>
<html lang="it">
    <head>
        <title>Ciclabili Valchiavenna</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <meta name="author" content="Piemme">
        <meta name="keyword" content="Ciclabili Bici Ciclabile Valchiavenna Chiavenna">
        <link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
        <link rel="icon" href="images/favicon.ico" type="images/x-icon" />
        <script src="../javascripts/util.js"></script>
        <script>
            var saturation = 0
            function sat(v){    
                document.getElementById("mappa").setAttribute("style", `filter:saturate(${v});`)           
                saturation = v
            }
        </script>
    </head>
    <body>
        <!-- hamburger -->
        <input type="checkbox" id="navi-toggle" class="checkbox" />
        <label for="navi-toggle" id="button">
            <span id="icon">&nbsp;</span>
        </label>
        <div id="background">&nbsp;</div>
        <nav id="nav">
            <ul id="list">
                <li style="display: inline"><img class="logo" src="images/logo.png"></li>
                <li> <a class="link" href="./homepage"> Home </a> </li>
                <li> <a class="link" href="./piste"> Piste </a> </li>
                <li> <a class="link" href="./territorio"> Territorio </a> </li>
                <li> <a class="link" href="./info"> Info </a> </li>
            </ul>
        </nav>
        
        <header>
            <navbar>
                <span style="display: inline"><img class="logo" src="images/logo.png"></span>
                <span class="menuItem"><a href="./homepage">Home</a></span>
                <span class="menuItem"><a href="./piste">Piste</a></span>
                <span class="menuItem"><a href="./terriorio">Territorio</a></span>
                <span class="menuItem"><a href="./info">Info</a></span>
            </navbar>
        </header>
        <div id="container">
            <div id="contenuto">
                <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                <!-- Image Map Generated by http://www.image-map.net/ --> 
                <div class="image-container">    
                    <img id="mappa" src="images/chiavenna_colico.jpg" usemap="#image-map" class="image" 
                    title="Ciclabile della Valchiavenna, photo by https://www.valtellina.it/it/bike/cicloturismo/percorsi/ciclabile-valchiavenna"
                    alt="Ciclabile della Valchiavenna, photo by https://www.valtellina.it/it/bike/cicloturismo/percorsi/ciclabile-valchiavenna">
                    <map name="image-map" id="image-map">
                        <area alt="Prosto" title="Prosto" href="./zone?z=Prosto" shape="rect">
                        <area alt="Chiavenna" title="Chiavenna" href="./zone?z=Chiavenna" shape="rect">
                        <area alt="Villa di Chiavenna" title="Villa di Chiavenna" href="./zone?z=Villa" shape="rect">
                        <area alt="Mese" title="Mese" href="./zone?z=Mese" shape="rect">
                        <area alt="Gordona" title="Gordona" href="./zone?z=Gordona" shape="rect">
                        <area alt="Samolaco" title="Samolaco" href="./zone?z=Samolaco" shape="rect">
                        <area alt="Novate Mezzola" title="Novate Mezzola" href="./zone?z=Novate" shape="rect">
                        <area alt="Verceia" title="Verceia" href="./zone?z=Verceia" shape="rect">
                        <area alt="Dubino" title="Dubino" href="./zone?z=Dubino" shape="rect">
                        <area alt="Colico" title="Colico" href="./zone?z=Colico" shape="rect">
                    </map>
                </div>
                <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.
                    Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>    
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
            </div>
            <div id="asideContainer">
                <aside class="asideElem">
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                </aside>
                <aside class="asideElem">
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                    <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
                </aside>
            </div>
        </div>
        <footer>
            <p>Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                Lorem Ipsium. Lorem Ipsium. Lorem Ipsium. 
                Lorem Ipsium. Lorem Ipsium. Lorem Ipsium.</p>
        </footer>
        <script>
            //eventListener Lists:
            ['mousemove', 'touchmove'].forEach(function(e) {
                document.getElementById("mappa").addEventListener(e, function(){
                    if(saturation == 0 || saturation == 5){
                        for(let i = 1; i <= 15; i++){
                            setTimeout(sat, 250*i, i*5);
                        }
                    }
                })
            })
            setTimeout(function(){
                if(saturation == 75){
                    for(let i = 15; i > 0; i--){
                        setTimeout(sat, 250*-(i-16), i*5);
                    }
                }
            }, 20000);

            //dynamically resize the coordinate of the image-map :)
            window.onload = function(){
                let img = document.getElementById("mappa");
                get_offset(img.width, img.height, document.getElementById("image-map").children) 
            }

            window.onresize = function(){
                let img = document.getElementById("mappa");
                get_offset(img.width, img.height, document.getElementById("image-map").children) 
            }
        </script>
    </body>
</html>