<!DOCTYPE html>
<html lang="it">
    <head>
        <title>Zona - Ciclabili Valchiavenna</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <meta name="author" content="Piemme">
        <meta name="keyword" content="Ciclabili Bici Ciclabile Valchiavenna Chiavenna">

        <link id="mode" rel="stylesheet" type="text/css" href="stylesheets/style_light.css"/>
        
        <link rel="icon" href="/images/favicon.ico" type="images/x-icon" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">  
        
        <script src="../javascripts/util.js"></script>
        <script>
            function plusDivs(n) {
                showDivs(slideIndex += n);
            }

            function showDivs(n) {
                var x = document.getElementsByClassName("reviewCard");
                console.log("ci sono: " + x.length + " carte")
                if (n > x.length) {slideIndex = 1}
                if (n < 1) {slideIndex = x.length} ;
                for (let i = 0; i < x.length; i++) {
                    x[i].style = "display: none";
                }
                x[slideIndex-1].style = "display: inline-block";
                console.log("mostrato solo l'elemento: " + (slideIndex-1))
            }
        </script>
    </head>
    <body>
        <!-- hamburger -->
        <input type="checkbox" id="navi-toggle" class="checkbox" />
        <label for="navi-toggle" id="button">
            <span id="icon">&nbsp;</span>
        </label>
        <div id="background">&nbsp;</div>
        <nav id="nav">
            <ul id="list">
                <li><img class="logo" src="../images/logo.png" alt="Logo"></li>
                <li> <a class="link" href="../homepage"> Home </a> </li>
                <li> <a class="link" href="../piste"> Piste </a> </li>
                <li> <a class="link" href="../territorio"> Territorio </a> </li>
                <li> <a class="link" href="../info"> Info </a> </li>
            </ul>
        </nav>
        
        <header>
            <nav id="navHead">
                <span><img class="logo" src="../images/logo.png" alt="Logo"></span>
                <span class="menuItem"><a href="../homepage">Home</a></span>
                <span class="menuItem"><a href="../piste">Piste</a></span>
                <span class="menuItem"><a href="../territorio">Territorio</a></span>
                <span class="menuItem"><a href="../info">Info</a></span>
            </nav>
        </header>
        <div id="container">
            <div id="contenuto">
                <div id="imgContainer" class="image-container"></div>
                <div id="headerContainer"></div>
                <div id="dataContainer">
                    <div id="limit">
                        <table id="tableContainer">
                            <tr><th>UserName</th><th>Opinione</th></tr>
                        </table>
                    </div>
                    <div id="gallery"></div>
                    <br>
                </div>
                <div id="formContainer">
                    <fieldset>
                        <legend>La tua opinione:</legend>
                        <form id="sendComments">
                            
                        </form>
                    </fieldset>
                </div>
            </div>
            <div id="asideContainer">
                <aside class="asideElem">
                    <div id="infoZona"></div>
                </aside>
                <aside class="asideElem">
                    <h3>Parlano di noi</h3>
                    <ul style="padding-left: 0">
                        <li><a target="_blank" href="http://www.bicitalia.org/it/percorsi/127-itinerario-ciclabile-della-valchiavenna">BiciItalia</a></li>
                        <li><a target="_blank" href="https://www.valtellina.it/it/bike/cicloturismo/percorsi/ciclabile-valchiavenna">Valtellina.it</a> </li>
                        <li><a target="_blank" href="https://www.valtellinasport.com/luoghi/chiavenna/ciclabile-valchiavenna.htm">ValtellinaSport</a></li>
                        <li><a target="_blank" href="https://www.google.com/maps/d/viewer?mid=18GGboEZFDatwbsDe4d74IX8qY4Q&ll=46.2599934443989%2C9.438118700000029&z=12">GoogleMyMaps</a></li>
                        <li><a target="_blank" href="http://www.valchiavennabike.it/it/percorsi-ciclabili/ciclabile-valchiavenna/">ValchiavennaBike</a></li>
                    </ul>
                </aside>
            
            </div>
        </div>
        <footer>
            <div id="footerText">
                <ul>
                    <li><a class="fa fa-instagram" href="https://www.instagram.com/pietromasolini_1ne/?hl=it">Instagram</a> &nbsp;</li>
                    <li><a class="fa fa-linkedin" href="https://www.linkedin.com/in/pietro-m-99b7b318a/">Linkedin</a> &nbsp;</li>
                    <li><a class="fa fa-at" href="mailto:pietro.masolini@studenti.unimi.it">Email</a> &nbsp;</li>
                    <li><a class="fa fa-github" href="https://github.com/roccobalocco">Github</a> &nbsp;</li>
                    <li><a class="fa fa-info" href="https://github.com/roccobalocco/myapp">Descrizione progetto</a> &nbsp;</li>
                    <li><a class="fa fa-institution" href="https://www.unimi.it/it/corsi/insegnamenti-dei-corsi-di-laurea/2020/tecnologie-e-linguaggi-il-web">Realizzato per CdL-UniMi</a> &nbsp;</li>
                    <li>
                        <a href="http://jigsaw.w3.org/css-validator/validator?lang=en&profile=css3svg&uri=https%3A%2F%2Fciclabili-valchiavenna.onrender.com%2Fzone&usermedium=all&vextwarning=&warning=1">
                            <img id="blueCSS" style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="Valid CSS!" /> 
                            <img id ="yellowCSS" style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
                        </a>
                    </li>
                    <li>
                      <p><a id="switcher" style="cursor: pointer; text-decoration: none;" title="Cambia tema"></a></p>
                    </li>
                </ul>
            </div>
        </footer>
        <script>
            var slideIndex = 1;

            if(localStorage.getItem("mode") == "dark"){
                document.getElementById("yellowCSS").style = "display: none"
                document.getElementById("blueCSS").style = "display: inline"
                document.getElementById("switcher").innerHTML = "&#128262;"
                document.getElementById("mode").href = "stylesheets/style_dark.css"
                console.log("dark-mode")
            }else{
                document.getElementById("yellowCSS").style = "display: inline"
                document.getElementById("blueCSS").style = "display: none"
                document.getElementById("switcher").innerHTML = "&#127765;"
                document.getElementById("mode").href = "stylesheets/style_light.css"
                console.log("light-mode")
            }

            //eventListener Lists:
            document.getElementById("switcher").addEventListener("click", function(){
                if(localStorage.getItem("mode") == "dark"){
                    document.getElementById("yellowCSS").style = "display: inline"
                    document.getElementById("blueCSS").style = "display: none"
                    localStorage.setItem("mode", "light");
                    document.getElementById("switcher").innerHTML = "&#127765;"
                    document.getElementById("mode").href = "stylesheets/style_light.css"
                    console.log("switched to light")
                }else{
                    document.getElementById("yellowCSS").style = "display: none"
                    document.getElementById("blueCSS").style = "display: inline"  
                    localStorage.setItem("mode", "dark");
                    document.getElementById("switcher").innerHTML = "&#128262;";
                    document.getElementById("mode").href = "stylesheets/style_dark.css";
                    console.log("switched to dark")
                }
            })

            var zona = get_zone_from_url()
            get_header(zona, document.getElementById("headerContainer"))
            get_data_no_zone('../json/comments.json', zona, document.getElementById("tableContainer"))
            get_gallery_no_zone('../json/comments.json', zona, document.getElementById("gallery")) 
            get_form(zona, document.getElementById("sendComments"))
            get_info('../json/infos.json', zona, document.getElementById("infoZona"))
            get_img(zona, document.getElementById("imgContainer"))
            
        </script>
    </body>
</html>
